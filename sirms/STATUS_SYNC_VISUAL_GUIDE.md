# ğŸ”„ Status Sync Visual Guide

## Quick Reference: Automatic Status Updates

### Scenario 1: DO Creates Schedule

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  BEHAVIORAL CONCERNS PAGE (DO View)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  Case: 2025-0042                                            â”‚
â”‚  Status: [Classified] â† Pending                             â”‚
â”‚  Student: John Doe                                          â”‚
â”‚                                                              â”‚
â”‚  [Schedule Appointment] â† DO clicks this                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â”‚ DO fills form and submits
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SCHEDULE CREATED                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âœ… DO Schedule created                                     â”‚
â”‚  âœ… Status: Scheduled                                       â”‚
â”‚  âœ… Date: Dec 6, 2025 at 2:00 PM                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â”‚ AUTOMATIC SYNC
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  BEHAVIORAL CONCERN UPDATED                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Case: 2025-0042                                            â”‚
â”‚  Status: [Under Review] â† AUTOMATICALLY UPDATED!            â”‚
â”‚  Student: John Doe                                          â”‚
â”‚                                                              â”‚
â”‚  ğŸ“§ Notifications sent to:                                  â”‚
â”‚     â€¢ Reporter (Teacher)                                    â”‚
â”‚     â€¢ Student                                               â”‚
â”‚     â€¢ Adviser                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Scenario 2: DO Completes Schedule

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DO SCHEDULE PAGE                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  Parent Conference - John Doe                               â”‚
â”‚  Date: Dec 6, 2025 at 2:00 PM                              â”‚
â”‚  Status: [Scheduled]                                        â”‚
â”‚                                                              â”‚
â”‚  [Mark as Complete] â† DO clicks this                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â”‚ DO confirms completion
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SCHEDULE COMPLETED                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âœ… Status updated to: Completed                            â”‚
â”‚  âœ… Meeting notes saved                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â”‚ AUTOMATIC SYNC
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  BEHAVIORAL CONCERN RESOLVED                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Case: 2025-0042                                            â”‚
â”‚  Status: [Resolved] â† AUTOMATICALLY UPDATED!                â”‚
â”‚  Student: John Doe                                          â”‚
â”‚                                                              â”‚
â”‚  ğŸ“§ Notifications sent to:                                  â”‚
â”‚     â€¢ Reporter (Teacher): "Case Completed"                  â”‚
â”‚     â€¢ Student: "Status Updated"                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Status Badge Colors

| Status | Badge Color | Meaning |
|--------|------------|---------|
| ğŸŸ¡ Classified | Yellow | Pending schedule |
| ğŸ”µ Under Review | Blue | Scheduled/In progress |
| ğŸŸ¢ Resolved | Green | Completed |

## Notification Examples

### 1. When Schedule is Created

**To Reporter (Teacher):**
```
ğŸ“§ Behavioral Concern Scheduled

The behavioral concern (Case: 2025-0042) has been scheduled. 
A parent conference will be held on December 6, 2025 at 2:00 PM.
Location: Discipline Office
```

**To Student:**
```
ğŸ“§ Parent Conference Scheduled

You have a parent conference scheduled on December 6, 2025 at 2:00 PM.
Location: DO Office
Please be on time.
```

**To Adviser:**
```
ğŸ“§ DO Appointment Scheduled - 2025-0042

A parent conference has been scheduled for your advisee John Doe 
on December 6, 2025 at 2:00 PM.
Location: Discipline Office
```

### 2. When Schedule is Completed

**To Reporter (Teacher):**
```
ğŸ“§ Behavioral Concern Completed

The behavioral concern (Case: 2025-0042) has been resolved.
The parent conference was successfully completed on December 6, 2025.
```

**To Student:**
```
ğŸ“§ Schedule Status Updated

Your parent conference scheduled for December 6, 2025 
has been marked as Completed.
```

## Timeline View

```
Day 1: Report Submitted
  â””â”€ Status: Pending
       â”‚
Day 2: DO Classifies as Minor
  â””â”€ Status: Classified
       â”‚
Day 3: DO Creates Schedule âš¡ AUTO-SYNC
  â””â”€ Status: Under Review (Scheduled)
       â”‚
Day 5: Meeting Held
       â”‚
Day 5: DO Marks Complete âš¡ AUTO-SYNC
  â””â”€ Status: Resolved
```

## What Happens Behind the Scenes

### When Creating Schedule:

```python
# 1. DO submits schedule form
schedule = DOSchedule.objects.create(...)

# 2. System automatically updates behavioral concern
if schedule.report:
    schedule.report.status = 'under_review'  # âš¡ Magic happens here
    schedule.report.save()

# 3. Notifications sent automatically
Notification.objects.create(...)  # To reporter
Notification.objects.create(...)  # To student
Notification.objects.create(...)  # To adviser
```

### When Completing Schedule:

```python
# 1. DO marks schedule as complete
schedule.status = 'completed'
schedule.save()

# 2. System automatically updates behavioral concern
if schedule.report and new_status == 'completed':
    schedule.report.status = 'resolved'  # âš¡ Magic happens here
    schedule.report.save()

# 3. Completion notifications sent
Notification.objects.create(...)  # To reporter
Notification.objects.create(...)  # To student
```

## Benefits at a Glance

| Before (Manual) | After (Automatic) |
|----------------|-------------------|
| DO creates schedule | DO creates schedule |
| DO manually updates status | âœ… Status updates automatically |
| DO notifies parties manually | âœ… Notifications sent automatically |
| Risk of forgetting | âœ… Never miss an update |
| 5-10 minutes per case | âœ… Instant |

## Common Questions

**Q: What if I create a schedule without linking a report?**
A: The schedule will be created normally, but no automatic status sync will occur since there's no linked behavioral concern.

**Q: Can I manually change the status?**
A: Yes, you can still manually update statuses if needed. The automatic sync only happens when schedules are created or completed.

**Q: What if I cancel or reschedule?**
A: Currently, cancelled/rescheduled appointments don't trigger automatic status changes. The behavioral concern remains in its current status.

**Q: Can I see the sync history?**
A: Status changes are tracked through the `updated_at` timestamp on the IncidentReport model. Future versions may include detailed audit logs.

## Testing the Feature

1. Go to Behavioral Concerns page
2. Find a case with status "Classified"
3. Click "Schedule Appointment"
4. Fill in the form and submit
5. âœ… Check: Status should now be "Under Review"
6. Go to DO Schedule page
7. Find the schedule you just created
8. Click "Mark as Complete"
9. âœ… Check: Behavioral Concern status should now be "Resolved"

---

**Feature Status:** âœ… Implemented and Ready
**Last Updated:** December 4, 2025
